{"version":3,"sources":["components/post/post.module.css","components/mediaSharing/mediaSharing.module.css","components/errorWhileFetching/errorWhileFetching.module.css","assets/logo.svg","components/header/header.tsx","api/nasaAPODClient.ts","components/errorWhileFetching/errorWhileFetching.tsx","components/mediaSharing/mediaSharing.tsx","components/typographyReadMore/typographyReadMore.tsx","components/post/post.tsx","components/post/postSkeleton.tsx","components/feed/feed.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","props","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","d","ForwardRef","useStyles","makeStyles","spaceBanner","backgroundImage","backgroundColor","icon","marginRight","Header","classes","AppBar","position","root","Container","maxWidth","Toolbar","disableGutters","SvgIcon","Typography","component","variant","API_BASE_URL","process","isError","res","undefined","code","getPosts","params","a","url","URL","searchParams","append","count","toString","fetch","ok","json","jsonRes","errorString","error","msg","service_version","console","Error","map","imageUrl","thumbnail_url","description","explanation","date","ErrorWhileFetching","onClick","className","styles","content","color","align","Button","startIcon","size","MediaSharing","buttons","FacebookShareButton","quote","hashtag","facebook","TwitterShareButton","hashtags","twitter","RedditShareButton","reddit","TypographyReadMore","text","charsNumberToShow","typographyProps","needShowMore","useState","isReadMore","setIsReadMore","slice","Link","underline","Post","data","localStorage","getItem","isLiked","setIsLiked","likePost","removeItem","setItem","Card","card","CardMedia","src","onDoubleClick","cardContent","contentTop","IconButton","edge","pink","Date","toLocaleDateString","React","memo","PostSkeleton","Skeleton","skeletonImage","skeletonTitle","width","Feed","postsList","setPostsList","isLoading","setIsLoading","errorWhileFetching","setErrorWhileFetching","pullImages","useCallback","imagesResult","posts","concat","useEffect","handleFetchRetry","endReached","itemContent","index","post","overscan","main","reverse","useWindowScroll","components","Footer","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e6ae6368.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"post_card__2irEZ\",\"cardContent\":\"post_cardContent__35_tg\",\"contentTop\":\"post_contentTop__2FCHV\",\"skeletonImage\":\"post_skeletonImage__1Xsb_\",\"skeletonTitle\":\"post_skeletonTitle__3xSok\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"mediaSharing_buttons__GMcW7\",\"facebook\":\"mediaSharing_facebook__G5Gn-\",\"twitter\":\"mediaSharing_twitter__1sTJ5\",\"reddit\":\"mediaSharing_reddit__3_Rd_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"errorWhileFetching_content__c4TrC\"};","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 121.12 122.88\",\n    style: {\n      enableBackground: \"new 0 0 121.12 122.88\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.61,114.81c3.99,4.34,12.59,2.3,23.22-3.61c-9.67-6.54-17.2-15.98-21.36-27.08C5.18,96.93,3.53,108.18,9.61,114.81 L9.61,114.81z M110.6,31.4c4.88-9.62,6.38-17.43,2.66-21.51c-5.71-6.25-16.44-4.79-28.96,1.33C94.95,15.2,104.09,22.3,110.6,31.4 L110.6,31.4z M64.51,7.67c3.96,0,7.83,0.41,11.56,1.18c17.19-9.68,32.87-12.5,41.58-2.97c5.6,6.13,3.67,17.02-2.89,29.78l0-0.01 l-0.03,0.07c-0.21,0.41-0.42,0.81-0.64,1.23l0.05,0.1c-14.06,31.09-41.39,57.46-73.32,76.33l-2.11,1.32l-0.05-0.03 c-14.46,8.49-26.94,11.28-33.45,4.19c-8.83-9.62-5.73-25.63,3.9-42.84C8.32,72.22,7.9,68.3,7.9,64.28 C7.9,33.01,33.24,7.67,64.51,7.67L64.51,7.67z M118.62,47.6c1.62,5.27,2.5,10.87,2.5,16.68c0,31.26-25.34,56.61-56.61,56.61 c-5.86,0-11.51-0.89-16.82-2.54c31.51-18.76,55.43-42.16,70.92-70.72l0,0L118.62,47.6L118.62,47.6z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.dea97208.svg\";\nexport { ForwardRef as ReactComponent };","import {\r\n  AppBar,\r\n  Container,\r\n  makeStyles,\r\n  SvgIcon,\r\n  Toolbar,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport { ReactComponent as LogoSvg } from '../../assets/logo.svg'\r\n\r\nconst useStyles = makeStyles({\r\n  spaceBanner: {\r\n    backgroundImage:\r\n      'url(\"https://www.nasa.gov/sites/default/files/thumbnails/image/stsci-h-p1917b-q-5198x4801.jpg\")',\r\n    backgroundColor: 'black',\r\n  },\r\n  icon: {\r\n    marginRight: '8px',\r\n  },\r\n})\r\n\r\nexport default function Header() {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <AppBar position=\"sticky\" classes={{ root: classes.spaceBanner }}>\r\n      <Container maxWidth=\"md\">\r\n        <Toolbar disableGutters>\r\n          <SvgIcon classes={{ root: classes.icon }}>\r\n            <LogoSvg />\r\n          </SvgIcon>\r\n          <Typography component=\"h1\" variant=\"h6\">\r\n            Spacestagram\r\n          </Typography>\r\n        </Toolbar>\r\n      </Container>\r\n    </AppBar>\r\n  )\r\n}\r\n","const API_KEY = process.env.REACT_APP_NASA_APOD_API_KEY\r\n\r\nconst API_BASE_URL = `https://api.nasa.gov/planetary/apod?api_key=${API_KEY}&thumbs=True`\r\n\r\n// Reference https://github.com/nasa/apod-api\r\n/** Search parameters */\r\ninterface Params {\r\n  /** A positive integer, no greater than 100. */\r\n  count: number\r\n  /** A string in YYYY-MM-DD format indicating the start of a date range. All images in the range from start_date to end_date will be returned in a JSON array. Cannot be used with date. */\r\n  // start_date?: string\r\n  /** A string in YYYY-MM-DD format indicating that end of a date range. If start_date is specified without an end_date then end_date defaults to the current date. */\r\n  // end_date?: string\r\n}\r\n\r\ntype Result = {\r\n  copyright: string\r\n  date: string\r\n  explanation: string\r\n  hdurl: string\r\n  media_type: 'image' | 'video'\r\n  service_version: string\r\n  title: string\r\n  url: string\r\n  thumbnail_url?: string\r\n}\r\n\r\ntype ErrorResponse = {\r\n  code: number\r\n  msg: string\r\n  service_version: string\r\n}\r\n\r\ntype ApiResponse = Result[] | ErrorResponse\r\n\r\nexport type PostDetails = {\r\n  imageUrl: string\r\n  title: string\r\n  description: string\r\n  date: string\r\n  //author: string\r\n}\r\n\r\nconst isError = (res: ApiResponse): res is ErrorResponse => {\r\n  return (res as ErrorResponse).code !== undefined\r\n}\r\n\r\nexport const getPosts = async (params: Params): Promise<PostDetails[]> => {\r\n  let url = new URL(API_BASE_URL)\r\n\r\n  url.searchParams.append('count', params.count.toString())\r\n\r\n  const res = await fetch(url.toString())\r\n\r\n  if (!res.ok) {\r\n    throw res\r\n  }\r\n\r\n  let jsonRes = await res.json()\r\n  jsonRes = jsonRes as ApiResponse\r\n\r\n  if (isError(jsonRes)) {\r\n    const error = jsonRes as ErrorResponse\r\n    const errorString = `code=${error.code} msg=${error.msg} service_version=${error.service_version}`\r\n\r\n    console.error(\r\n      `API response succeeded, but there was an error: ${errorString}`\r\n    )\r\n\r\n    throw new Error(errorString)\r\n  }\r\n\r\n  return (jsonRes as Result[]).map(\r\n    (x) =>\r\n      ({\r\n        imageUrl: x.thumbnail_url ?? x.url,\r\n        //author: x.copyright,\r\n        title: x.title,\r\n        description: x.explanation,\r\n        date: x.date,\r\n      } as PostDetails)\r\n  )\r\n}\r\n","import WarningIcon from '@material-ui/icons/Warning'\r\nimport ReplayIcon from '@material-ui/icons/Replay'\r\nimport { Button, Typography } from '@material-ui/core'\r\n\r\nimport styles from './errorWhileFetching.module.css'\r\n\r\ninterface Props {\r\n  onClick: () => void\r\n}\r\n\r\nexport default function ErrorWhileFetching({ onClick }: Props) {\r\n  return (\r\n    <div className={styles.content}>\r\n      <WarningIcon color=\"inherit\" />\r\n      <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\r\n        Could not fetch more posts...\r\n      </Typography>\r\n      <Button\r\n        variant=\"text\"\r\n        color=\"inherit\"\r\n        startIcon={<ReplayIcon />}\r\n        size=\"small\"\r\n        onClick={onClick}\r\n      >\r\n        Retry\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n","import {\r\n  FacebookShareButton,\r\n  RedditShareButton,\r\n  TwitterShareButton,\r\n} from 'react-share'\r\nimport FacebookIcon from '@material-ui/icons/Facebook'\r\nimport RedditIcon from '@material-ui/icons/Reddit'\r\nimport TwitterIcon from '@material-ui/icons/Twitter'\r\n\r\nimport styles from './mediaSharing.module.css'\r\n\r\ninterface Props {\r\n  imageUrl: string\r\n  title: string\r\n}\r\n\r\nexport default function MediaSharing({ imageUrl, title }: Props) {\r\n  return (\r\n    <div className={styles.buttons}>\r\n      <FacebookShareButton url={imageUrl} quote={title} hashtag=\"NASA\">\r\n        <FacebookIcon className={styles.facebook} />\r\n      </FacebookShareButton>\r\n\r\n      <TwitterShareButton url={imageUrl} title={title} hashtags={['NASA']}>\r\n        <TwitterIcon className={styles.twitter} />\r\n      </TwitterShareButton>\r\n\r\n      <RedditShareButton url={imageUrl} title={title}>\r\n        <RedditIcon className={styles.reddit} />\r\n      </RedditShareButton>\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Link, Typography, TypographyProps } from '@material-ui/core'\r\n\r\ninterface Props extends TypographyProps {\r\n  text: string\r\n  charsNumberToShow: number\r\n}\r\n\r\n// Based on https://www.geeksforgeeks.org/how-to-create-a-read-more-component-in-reactjs/\r\nexport default function TypographyReadMore(props: Props) {\r\n  const { text, charsNumberToShow, ...typographyProps } = props\r\n\r\n  const needShowMore = text?.length > charsNumberToShow\r\n  const [isReadMore, setIsReadMore] = useState(needShowMore)\r\n\r\n  const toggleReadMore = () => {\r\n    setIsReadMore(!isReadMore)\r\n  }\r\n\r\n  return (\r\n    <Typography {...typographyProps}>\r\n      {isReadMore ? `${text.slice(0, charsNumberToShow)}... ` : `${text} `}\r\n      {needShowMore && (\r\n        <Link\r\n          component=\"button\"\r\n          color=\"textPrimary\"\r\n          underline=\"always\"\r\n          variant={props.variant ?? 'inherit'}\r\n          onClick={toggleReadMore}\r\n        >\r\n          {isReadMore ? 'More' : 'Less'}\r\n        </Link>\r\n      )}\r\n    </Typography>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Card, CardMedia, IconButton, Typography } from '@material-ui/core'\r\nimport { pink } from '@material-ui/core/colors'\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\r\nimport FavoriteIcon from '@material-ui/icons/Favorite'\r\nimport MediaSharing from '../mediaSharing/mediaSharing'\r\nimport TypographyReadMore from '../typographyReadMore/typographyReadMore'\r\n\r\nimport styles from './post.module.css'\r\n\r\nconst MAX_CHAR_TO_SHOW = 160\r\n\r\ninterface Props {\r\n  data: {\r\n    imageUrl: string\r\n    title: string\r\n    date: string\r\n    description: string\r\n  }\r\n}\r\n\r\nfunction Post({ data }: Props) {\r\n  const { title, description, date, imageUrl } = data\r\n\r\n  const [isLiked, setIsLiked] = useState(\r\n    localStorage.getItem(imageUrl) ?? false\r\n  )\r\n\r\n  const likePost = () => {\r\n    setIsLiked(!isLiked)\r\n\r\n    if (localStorage.getItem(imageUrl)) {\r\n      localStorage.removeItem(imageUrl)\r\n    } else {\r\n      localStorage.setItem(imageUrl, '1')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={styles.card} component=\"article\">\r\n      <CardMedia\r\n        component=\"img\"\r\n        src={imageUrl}\r\n        title={title}\r\n        onDoubleClick={likePost}\r\n      />\r\n      <div className={styles.cardContent}>\r\n        <div className={styles.contentTop}>\r\n          <IconButton\r\n            color=\"primary\"\r\n            onClick={likePost}\r\n            edge=\"start\"\r\n            size=\"small\"\r\n            aria-label=\"like post\"\r\n          >\r\n            {isLiked ? (\r\n              <FavoriteIcon style={{ color: pink[500] }} />\r\n            ) : (\r\n              <FavoriteBorderIcon color=\"disabled\" />\r\n            )}\r\n          </IconButton>\r\n          <MediaSharing imageUrl={imageUrl} title={title} />\r\n          <Typography variant=\"body2\" color=\"textSecondary\">\r\n            {new Date(date).toLocaleDateString()}\r\n          </Typography>\r\n        </div>\r\n        <header>\r\n          <Typography variant=\"subtitle1\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n        </header>\r\n        <TypographyReadMore\r\n          text={description}\r\n          charsNumberToShow={MAX_CHAR_TO_SHOW}\r\n          variant=\"body2\"\r\n          color=\"textSecondary\"\r\n          align=\"justify\"\r\n        />\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default React.memo(Post)\r\n","import { Card, Typography } from '@material-ui/core'\r\nimport { Skeleton } from '@material-ui/lab'\r\n\r\nimport styles from './post.module.css'\r\n\r\nexport default function PostSkeleton() {\r\n  return (\r\n    <Card variant=\"outlined\" className={styles.card} component=\"article\">\r\n      <Skeleton className={styles.skeletonImage} variant=\"rect\" />\r\n      <div className={styles.cardContent}>\r\n        <header className={styles.skeletonTitle}>\r\n          <Typography variant=\"subtitle1\">\r\n            <Skeleton variant=\"text\" width=\"60%\" />\r\n          </Typography>\r\n        </header>\r\n        <Skeleton variant=\"text\" />\r\n        <Skeleton variant=\"text\" />\r\n        <Skeleton variant=\"text\" width=\"30%\" />\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { Virtuoso } from 'react-virtuoso'\r\nimport { getPosts, PostDetails } from '../../api/nasaAPODClient'\r\nimport ErrorWhileFetching from '../errorWhileFetching/errorWhileFetching'\r\nimport Post from '../post/post'\r\nimport PostSkeleton from '../post/postSkeleton'\r\n\r\nconst NUMBER_OF_POSTS_TO_PULL = 5\r\n\r\nexport default function Feed() {\r\n  const [postsList, setPostsList] = useState<PostDetails[]>([])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [errorWhileFetching, setErrorWhileFetching] = useState(false)\r\n\r\n  const pullImages = useCallback(async () => {\r\n    setIsLoading(true)\r\n\r\n    try {\r\n      const imagesResult = await getPosts({\r\n        count: NUMBER_OF_POSTS_TO_PULL,\r\n      })\r\n\r\n      setPostsList((posts) =>\r\n        posts ? posts.concat(imagesResult) : imagesResult\r\n      )\r\n    } catch (error) {\r\n      setErrorWhileFetching(true)\r\n    }\r\n\r\n    setIsLoading(false)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    pullImages()\r\n  }, [pullImages])\r\n\r\n  const handleFetchRetry = () => {\r\n    pullImages()\r\n    setErrorWhileFetching(false)\r\n  }\r\n\r\n  const feedFooter = () => {\r\n    if (isLoading) {\r\n      return <PostSkeleton />\r\n    }\r\n\r\n    if (errorWhileFetching) {\r\n      return <ErrorWhileFetching onClick={handleFetchRetry} />\r\n    }\r\n\r\n    return <></>\r\n  }\r\n\r\n  return (\r\n    <Virtuoso\r\n      endReached={pullImages}\r\n      data={postsList}\r\n      itemContent={(index, post) => {\r\n        return <Post data={post} />\r\n      }}\r\n      overscan={{ main: 1000, reverse: 1000 }}\r\n      useWindowScroll\r\n      components={{\r\n        Footer: feedFooter,\r\n      }}\r\n    />\r\n  )\r\n}\r\n","import { Container } from '@material-ui/core'\nimport Header from './components/header/header'\nimport Feed from './components/feed/feed'\n\nimport './App.css'\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Header />\n      <Container className=\"mainContainer\" maxWidth=\"md\" component=\"main\">\n        <Feed />\n      </Container>\n    </div>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}