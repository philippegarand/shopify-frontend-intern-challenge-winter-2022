(this.webpackJsonpspacestagram=this.webpackJsonpspacestagram||[]).push([[0],{13:function(e,t,n){e.exports={card:"post_card__2irEZ",cardContent:"post_cardContent__35_tg",contentTop:"post_contentTop__2FCHV",skeletonImage:"post_skeletonImage__1Xsb_",skeletonTitle:"post_skeletonTitle__3xSok"}},32:function(e,t,n){e.exports={buttons:"mediaSharing_buttons__GMcW7",facebook:"mediaSharing_facebook__G5Gn-",twitter:"mediaSharing_twitter__1sTJ5",reddit:"mediaSharing_reddit__3_Rd_"}},50:function(e,t,n){e.exports={content:"errorWhileFetching_content__c4TrC"}},64:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),i=n(20),o=n.n(i),s=(n(64),n(96)),l=n(93),j=n(95),u=n(97),d=n(98),b=n(75),h=["title","titleId"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function O(e,t){var n=e.title,r=e.titleId,i=p(e,h);return c.createElement("svg",x({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 121.12 122.88",style:{enableBackground:"new 0 0 121.12 122.88"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,a||(a=c.createElement("g",null,c.createElement("path",{d:"M9.61,114.81c3.99,4.34,12.59,2.3,23.22-3.61c-9.67-6.54-17.2-15.98-21.36-27.08C5.18,96.93,3.53,108.18,9.61,114.81 L9.61,114.81z M110.6,31.4c4.88-9.62,6.38-17.43,2.66-21.51c-5.71-6.25-16.44-4.79-28.96,1.33C94.95,15.2,104.09,22.3,110.6,31.4 L110.6,31.4z M64.51,7.67c3.96,0,7.83,0.41,11.56,1.18c17.19-9.68,32.87-12.5,41.58-2.97c5.6,6.13,3.67,17.02-2.89,29.78l0-0.01 l-0.03,0.07c-0.21,0.41-0.42,0.81-0.64,1.23l0.05,0.1c-14.06,31.09-41.39,57.46-73.32,76.33l-2.11,1.32l-0.05-0.03 c-14.46,8.49-26.94,11.28-33.45,4.19c-8.83-9.62-5.73-25.63,3.9-42.84C8.32,72.22,7.9,68.3,7.9,64.28 C7.9,33.01,33.24,7.67,64.51,7.67L64.51,7.67z M118.62,47.6c1.62,5.27,2.5,10.87,2.5,16.68c0,31.26-25.34,56.61-56.61,56.61 c-5.86,0-11.51-0.89-16.82-2.54c31.51-18.76,55.43-42.16,70.92-70.72l0,0L118.62,47.6L118.62,47.6z"}))))}var m=c.forwardRef(O),v=(n.p,n(2)),f=Object(l.a)({spaceBanner:{backgroundImage:'url("https://www.nasa.gov/sites/default/files/thumbnails/image/stsci-h-p1917b-q-5198x4801.jpg")',backgroundColor:"black"},icon:{marginRight:"8px"}});function g(){var e=f();return Object(v.jsx)(j.a,{position:"sticky",classes:{root:e.spaceBanner},children:Object(v.jsx)(s.a,{maxWidth:"md",children:Object(v.jsxs)(u.a,{disableGutters:!0,children:[Object(v.jsx)(d.a,{classes:{root:e.icon},children:Object(v.jsx)(m,{})}),Object(v.jsx)(b.a,{component:"h1",variant:"h6",children:"Spacestagram"})]})})})}var w=n(25),_=n.n(w),k=n(34),y=n(11),S="https://api.nasa.gov/planetary/apod?api_key=".concat("CFaf3GKMjpgUbEWU4X2NgaBBJOBJrnbOzwi1nm1i","&thumbs=True"),C=function(e){return void 0!==e.code},N=function(){var e=Object(k.a)(_.a.mark((function e(t){var n,a,c,r,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URL(S)).searchParams.append("count",t.count.toString()),e.next=4,fetch(n.toString());case 4:if((a=e.sent).ok){e.next=7;break}throw a;case 7:return e.next=9,a.json();case 9:if(c=e.sent,!C(c=c)){e.next=16;break}throw i="code=".concat((r=c).code," msg=").concat(r.msg," service_version=").concat(r.service_version),console.error("API response succeeded, but there was an error: ".concat(i)),new Error(i);case 16:return e.abrupt("return",c.map((function(e){var t;return{link:null!==(t=e.thumbnail_url)&&void 0!==t?t:e.url,author:e.copyright,title:e.title,description:e.explanation,date:e.date}})));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=n(103),E=n(104),L=n(105),I=n(36),B=n(49),M=n.n(B),P=n(48),z=n.n(P),F=n(99),U=n(100),A=n(101),G=n(45),J=n.n(G),R=n(47),W=n.n(R),D=n(46),H=n.n(D),X=n(32),q=n.n(X);function K(e){var t=e.imageUrl,n=e.title;return Object(v.jsxs)("div",{className:q.a.buttons,children:[Object(v.jsx)(F.a,{url:t,quote:n,hashtag:"NASA",children:Object(v.jsx)(J.a,{className:q.a.facebook})}),Object(v.jsx)(U.a,{url:t,title:n,hashtags:["NASA"],children:Object(v.jsx)(H.a,{className:q.a.twitter})}),Object(v.jsx)(A.a,{url:t,title:n,children:Object(v.jsx)(W.a,{className:q.a.reddit})})]})}var V=n(39),Y=n(3),Z=n(102),Q=["text","charsNumberToShow"];function $(e){var t,n=e.text,a=e.charsNumberToShow,r=Object(Y.a)(e,Q),i=n.length>a,o=Object(c.useState)(i),s=Object(y.a)(o,2),l=s[0],j=s[1];return Object(v.jsxs)(b.a,Object(V.a)(Object(V.a)({},r),{},{children:[l?"".concat(n.slice(0,a),"... "):"".concat(n," "),i&&Object(v.jsx)(Z.a,{component:"button",color:"textPrimary",underline:"always",variant:null!==(t=e.variant)&&void 0!==t?t:"inherit",onClick:function(){j(!l)},children:l?"More":"Less"})]}))}var ee=n(13),te=n.n(ee);function ne(e){var t=e.imageUrl,n=e.title,a=e.date,r=e.description,i=Object(c.useState)(!1),o=Object(y.a)(i,2),s=o[0],l=o[1],j=function(){l(!s)};return Object(v.jsxs)(T.a,{variant:"outlined",className:te.a.card,component:"article",children:[Object(v.jsx)(E.a,{component:"img",src:t,title:n,onDoubleClick:j}),Object(v.jsxs)("div",{className:te.a.cardContent,children:[Object(v.jsxs)("div",{className:te.a.contentTop,children:[Object(v.jsx)(L.a,{color:"primary",onClick:j,edge:"start",size:"small","aria-label":"like post",children:s?Object(v.jsx)(z.a,{style:{color:I.a[500]}}):Object(v.jsx)(M.a,{color:"disabled"})}),Object(v.jsx)(K,{imageUrl:t,title:n}),Object(v.jsx)(b.a,{variant:"body2",color:"textSecondary",children:new Date(a).toLocaleDateString()})]}),Object(v.jsx)("header",{children:Object(v.jsx)(b.a,{variant:"subtitle1",component:"h2",children:n})}),Object(v.jsx)($,{text:r,charsNumberToShow:160,variant:"body2",color:"textSecondary",align:"justify"})]})]})}var ae=n(106);function ce(){return Object(v.jsxs)(T.a,{variant:"outlined",className:te.a.card,component:"article",children:[Object(v.jsx)(ae.a,{className:te.a.skeletonImage,variant:"rect"}),Object(v.jsxs)("div",{className:te.a.cardContent,children:[Object(v.jsx)("header",{className:te.a.skeletonTitle,children:Object(v.jsx)(b.a,{variant:"subtitle1",children:Object(v.jsx)(ae.a,{variant:"text",width:"60%"})})}),Object(v.jsx)(ae.a,{variant:"text"}),Object(v.jsx)(ae.a,{variant:"text"}),Object(v.jsx)(ae.a,{variant:"text",width:"30%"})]})]})}var re=n(51),ie=n.n(re),oe=n(52),se=n.n(oe),le=n(107),je=n(50),ue=n.n(je);function de(e){var t=e.onClick;return Object(v.jsxs)("div",{className:ue.a.content,children:[Object(v.jsx)(ie.a,{color:"inherit"}),Object(v.jsx)(b.a,{variant:"body1",color:"textSecondary",align:"center",children:"Could not fetch more posts..."}),Object(v.jsx)(le.a,{variant:"text",color:"inherit",startIcon:Object(v.jsx)(se.a,{}),size:"small",onClick:t,children:"Retry"})]})}function be(){var e=Object(c.useState)(),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(y.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(!1),j=Object(y.a)(l,2),u=j[0],d=j[1],b=Object(c.useCallback)(Object(k.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,N({count:10});case 4:t=e.sent,a((function(e){return e?e.concat(t):t})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d(!0);case 11:s(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]),h=Object(c.useCallback)((function(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&!u&&!o&&b()}),[o,b,u]);Object(c.useEffect)((function(){b()}),[b]),Object(c.useEffect)((function(){return window.addEventListener("scroll",h),function(){window.removeEventListener("scroll",h)}}),[h]);return Object(v.jsxs)("div",{children:[null===n||void 0===n?void 0:n.map((function(e,t){return Object(v.jsx)(ne,{imageUrl:e.link,title:e.title,date:e.date,description:e.description},t)})),o&&Object(v.jsx)(ce,{}),u&&Object(v.jsx)(de,{onClick:function(){b(),d(!1)}})]})}n(72);var he=function(){return Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(g,{}),Object(v.jsx)(s.a,{className:"mainContainer",maxWidth:"md",component:"main",children:Object(v.jsx)(be,{})})]})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(he,{})}),document.getElementById("root")),xe()}},[[73,1,2]]]);
//# sourceMappingURL=main.b3e9f3b6.chunk.js.map